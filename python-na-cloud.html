<!--- # Python na Cloud: Serverless, containers, o que escolher? -->
<html>
  <head>
    <meta charset="UTF-8" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/css/reveal.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/css/theme/white.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/zenburn.min.css"
    />
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Python na Cloud</h1>
          <span>Serverless, containers, o que escolher?</span>
        </section>
        <section>
          <h1>Bianca Rosa</h1>
          <h3>tech lead @ stone</h3>
          <ul>
            <li class="fragment">Python & Go</li>
            <li class="fragment">Docker & Kubernetes & Cloud</li>
            <li class="fragment">Qualidade & Resiliência</li>
            <li class="fragment">
              PythOnRio / Pyladies / WWG RJ
            </li>
          </ul>
        </section>
        <section>
          <h1>O que esperar</h1>
          <ul>
            <li class="fragment">Um overview das possibilidades.</li>
            <li class="fragment">Mais munição pra escolher a melhor opção.</li>
            <li class="fragment">Exemplos. Muita coisa prática.</li>
          </ul>
        </section>
        <section>
          <h1>Cloud</h1>
          <p class="fragment">There is no cloud. It's just someone else's computer.</p>
          <p class="fragment">#sóquenão</p>
          <p>Cloud computing não é apenas sobre servidores remotos. É também sobre abstrações que tornam a vida dos desenvolvedores mais fácil e ajuda a construir sistemas e arquiteturas com alta qualidade.</p>
        </section>
        <section>
          <h1>Exemplos de abstrações</h1>
          <p class="fragment">Bancos de dados gerenciados</p>
          <p class="fragment">Servidores de arquivos</p>
          <p class="fragment">Serverless</p>
        </section>
        <section>
          <h1>Agenda</h1>
          <ul>
            <li class="fragment">PaaS</li>
            <li class="fragment">VMs</li>
            <li class="fragment">Serverless Functions</li>
            <li class="fragment">Containers</li>
            <li class="fragment">Kubernetes</li>
            <li class="fragment">Containers Serverless</li>
          </ul>
        </section>
        <section>
          <h1>Construindo uma API simples em Flask</h1>
        </section>
        <section><pre class="highlight"><code>from flask import Flask, jsonify
app = Flask(__name__)

@app.route('/')
def hello_world():
    return jsonify({
      "message": "Hello, World!"
    })
</code></pre>
        </section>
        <section>
          <p>Legal! Quero colocar esse código em produção!</p>
        </section>
        <section>
          <h1>Serverless</h1>
        </section>
        <section>
          <p class="fragment">Como assim serverless? Não tem servidor?!</p>
          <p class="fragment">Calma.</p>
          <p class="fragment">Arquiteturas serverless provêem uma abstração em cima do servidor em que seu código é executado.</p>
          <p class="fragment">https://martinfowler.com/articles/serverless.html</p>
        </section>
        <section>
            <h1>Serverless</h1>
            <ul>
              <li class="fragment">Simplicidade</li>
              <li class="fragment">Custo por tempo de execução</li>
              <li class="fragment">Escalável</li>
              <li class="fragment">Maior latência nos primeiros requests</li>
            </ul>
        </section>
        <section>
            <h1>Serverless - Lifecycle</h1>
            <ul>
              <li class="fragment">Trigger</li>
              <li class="fragment">Startup</li>
              <li class="fragment">Execução</li>
            </ul>
        </section>
        <section>
            <h1>HANDS ON!</h1>
        </section>
        <section>
          <h1>Containers</h1>
          <p class="fragment">Unidade de software que contém o código e todas as suas dependências para que uma aplicação rode bem e de forma confiável em qualquer ambiente.</p>
          <p class="fragment">https://www.docker.com/resources/what-container</p>
        </section>
        <section>
          <h2>Containers vs Máquinas Virtuais</h2>
            <!-- Deep dive explanation about hypervisors and kernel processes  -->
        </section>
        <section>
          <h2>Docker</h2>
        </section>
        <section>
          <h2>Dockerfile</h2>
          <pre class="highlight"><code>FROM python:3.7.2-alpine3.7

RUN apk add --no-cache --update git make gcc python3-dev musl-dev && \
    set -ex && \
    pip install --no-cache-dir pipenv==10.1.2

WORKDIR /app
ADD . .

RUN set -ex && \
    pipenv install --system --deploy</code></pre>
        </section>
        <section>
          <h2>Rodando com Docker</h2>
          <pre class="highlight"><code>docker build . -t hello-world
docker run -p 5000:5000 hello-world</code></pre>
        </section>
        <section>
          <h2>Docker Compose</h2>
          <pre class="highlight"><code>version: "3"
services:
  web:
    build:
      context: .
    command: gunicorn hello_world:app --workers=4 --bind 0.0.0.0:5000 --reload
    volumes:
      - .:/app
    ports:
      - "5000:5000"</code></pre>
        </section>
        <section>
          <h2>Docker Compose</h2>
          <pre class="highlight"><code>docker-compose up</code></pre>
        </section>
        <section>
          <h1>Kubernetes</h1>
        </section>
        <section>
          <!-- Kubernetes: o que é, como funciona etc  -->
        </section>
        <section>
          <h2>Minikube</h2>
          <!-- Minikube: o que é, como funciona etc  -->
          <pre class="fragment"><code>minikube start
eval $(minikube docker-env)</code></pre>
        </section>
        <section>
          <h2>Kubernetes - Contextos</h2>
          <pre class="fragment"><code>kubectl config get-contexts</code></pre>
        </section>
        <section>
          <h2>Kubernetes - ConfigMaps</h2>
          <pre class="fragment"><code>kubectl apply -f kubernetes/configmaps.yaml</code></pre>
        </section>
        <section>
          <h2>Kubernetes - Secrets</h2>
          <pre class="fragment"><code>kubectl apply -f kubernetes/secrets.yaml</code></pre>
        </section>
        <section>
          <h2>Kubernetes - Deployments</h2>
          <pre class="fragment"><code>kubectl apply -f kubernetes/deployment.yaml</code></pre>
        </section>
        <section>
          <h2>Kubernetes - Pods</h2>
          <pre class="fragment"><code>watch kubectl get pods</code></pre>
        </section>
        <section>
          <h2>Kubernetes - Services</h2>
          <pre class="fragment"><code>kubectl get serices
minikube service python-na-cloud</code></pre>
        </section>
        <section>
          <h1>Serverless Containers</h1>
        </section>
        <section>
          <!-- Serverless Containers  -->
        </section>
        <section>
          <p>
            twitter: <a href="http://twitter.com/__biancarosa">@__biancarosa</a>
          </p>
          <p>
            slides:
            <a href="http://biancarosa.com.br/slides/python-na-cloud.html">
              biancarosa.com.br/slides/python-na-cloud.html
            </a>
          </p>
          <p>tks :)</p>
        </section>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/headjs/1.0.3/head.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/js/reveal.min.js"></script>
    <script>
      Reveal.initialize({
        dependencies: [
          {
            src:
              "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/plugin/notes/notes.js"
          },
          {
            src:
              "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/plugin/highlight/highlight.js",
            callback: function() {
              hljs.initHighlightingOnLoad();
            }
          }
        ]
      });
    </script>
  </body>
</html>
